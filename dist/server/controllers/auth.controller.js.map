{"version":3,"sources":["server/controllers/auth.controller.js"],"names":["login","req","res","findByCredentials","body","nickname","password","then","user","generateAuthToken","header","token","send","catch","status","logout","removeByToken","u","recoverRequest","mg","apiKey","mailgun","secret","domain","recoverEmailTemplate","readFileSync","template","compile","generateRecoverToken","email","data","from","to","subject","html","messages","error","recoverRestore","setRecoverPassword","params","code","recoverCheck","checkRecoverToken","getRandomNumber","json","num","Math","random"],"mappings":"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","file":"auth.controller.js","sourceRoot":"../../../../.."}